(function(){function h(a,c){if(a.exportEnabled){var b=document.createElement("div"),d=document.createTextNode("Save as CSV");b.setAttribute("style","padding: 12px 8px; background-color: "+a.toolbar.itemBackgroundColor+"; color: "+a.toolbar.fontColor);b.appendChild(d);b.addEventListener("mouseover",function(){b.setAttribute("style","padding: 12px 8px; background-color: "+a.toolbar.itemBackgroundColorOnHover+"; color: "+a.toolbar.fontColorOnHover)});b.addEventListener("mouseout",function(){b.setAttribute("style",
"padding: 12px 8px; background-color: "+a.toolbar.itemBackgroundColor+"; color: "+a.toolbar.fontColor)});b.addEventListener("click",function(){n({filename:(c||"chart-data")+".csv",chart:a})});a._toolBar.lastChild.appendChild(b)}else{d=document.createElement("button");d.style.cssText="position:relative;display: inline-block;padding: 0px 4px;height: 27px;cursor: pointer;text-align: center;text-decoration: none;background-color:"+a.toolbar.itemBackgroundColor+";border: 1px solid "+a.toolbar.borderColor+
";left:"+(a.container.clientWidth-(a.options.zoomEnabled?115:60))+"px; top: 1px";var e=document.createElement("IMG");e.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEgSURBVEhL3dM/SgNBFMfxBS8gWkYb0dJSyBGCwdIzRPAKgrZKINdIkVJB0qqteIdYCYoHEPX74P1gMszuzG5SiD/4wM6/99jJpvq3GeIVPwUu0ToLpIrVad1EB3Pp3KRLA1PcRAdyCYtLURNtziUsHMqmeGOUxnNtPs2cZNp+mk2S0eIteu7O5y5wgFN8Yw8vePZnnZVktLiDJzxi1+cOfe4GHxhhgjHOoLOSTLgYbjZz7OPaxzOc4Nif4/3JaNHe4MHpDc7xiW284R1b2IS9ka61MWpg925NrPi9z9mfx65pgC+fO0Lfn21/Nqt8RUo8XordZ9cmSjyuTfHGKH+nQe6qptiA5QqpPcbWkin5PXJNaot3Tdhk7cUVKxwUr6pfwprgQh4A9MYAAAAASUVORK5CYII=");
d.appendChild(e);d.addEventListener("mouseover",function(){this.style.cssText=this.style.cssText+"background-color: "+a.toolbar.itemBackgroundColorOnHover});d.addEventListener("mouseout",function(){this.style.cssText=this.style.cssText+"background-color: "+a.toolbar.itemBackgroundColor});d.addEventListener("click",function(){n({filename:(c||"chart-data")+".csv",chart:a})});a.container.appendChild(d)}}function q(a){for(var c=[],b=[],d=0;d<a.length;d++)for(var e=0;e<a[d].dataPoints.length;e++)c.push(k(a[d].dataPoints[e]));
c.forEach(function(f){var g=b.filter(function(l,p){return l.x==f.x});if(g.length)g=b.indexOf(g[0]),b[g].y=b[g].y.concat(f.y);else{if("string"==typeof f.y||"number"==typeof f.y)f.y=[f.y];b.push(f)}});for(d=0;d<b.length;d++){for(e=0;e<b[d].y.length;e++)b[d]["y"+e]=b[d].y[e];delete b[d].y}return b}function r(a){var c="",b;var d=a.data||null;if(null==d||!d.length)return null;var e=a.columnDelimiter||",";var f=a.lineDelimiter||"\n";a=q(d);var g=Object.keys(a[0]);c="";c+=g.join(e);c+=f;a.forEach(function(l){b=
0;g.forEach(function(p){0<b&&(c+=e);c+=l[p];b++});c+=f});return c}function n(a){var c=""+r({data:a.chart.options.data});if(null!=c){a=a.filename||"chart-data.csv";c.match(/^data:text\/csv/i)||(c="data:text/csv;charset=utf-8,"+c);c=encodeURI(c);var b=document.createElement("a");b.setAttribute("href",c);b.setAttribute("download",a);document.body.appendChild(b);b.click();document.body.removeChild(b)}}function k(a){if(null===a||"object"!==typeof a)return a;if(a instanceof Date)return new Date(a.getTime());
Array.isArray||(Array.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)});if(Array.isArray(a)){for(var c=[],b=0;b<a.length;b++)c.push(k(a[b]));return c}c=new a.constructor;for(b in a)a.hasOwnProperty(b)&&(c[b]=k(a[b]));return c}var m=window.CanvasJS||m?window.CanvasJS:null;m&&(m.Chart.prototype.exportAsCSV=function(a){h(this,a)});"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=h:"function"===typeof define&&define.amd?define([],function(){return h}):
window.CanvasJSDataAsCSV=h})();
